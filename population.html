<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>IP2 Group 1</title>
		<script src="https://cdn.tailwindcss.com"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	</head>
	<body class="overflow-auto font-['Nunito',sans-serif]">
		<div id="bg" class="bg-cover bg-center overflow-auto bg-[#000135]">
			<header class="flex">
				<nav class="flex-grow text-white">
					<img src="./images/IP2 Coursework Files/Logo FIles/1_Original_Logo_(Transparent)_(Dark Background).png" alt="Website_Logo" class="float-left w-auto h-28 p-5" />
					<div class="hidden lg:block">
						<ul class="list-none justify-center float-right text-2xl text-center p-5 z-0">
							<li class="float-left p-5">
								<a href="index.html" class="hover:border-b-4 hover:border-[#FF9900] p-5 text-white">Home</a>
							</li>
							<li class="float-left p-5">
								<a href="authors.html" class="hover:border-b-4 hover:border-[#FF9900] p-5 hover:text-white" id="dropdown">Authors</a>
							</li>
							<li class="float-left p-5">
								<a href="apps.html" class="border-b-4 border-[#FF9900] p-5 hover:text-white">Apps</a>
							</li>
							<li class="float-left p-5">
								<a href="about.html" class="hover:border-b-4 hover:border-[#FF9900] p-5 hover:text-white">About</a>
							</li>
							<li class="float-left p-5">
								<a href="contact.html" class="hover:border-b-4 hover:border-[#FF9900] p-5 hover:text-white">Contact</a>
							</li>
						</ul>
					</div>
					<!-- Small screen navigation -->
					<div class="float-right lg:hidden pr-4">
						<button class="hover:bg-blue-900 rounded-md hover:text-white px-1 my-10 nav-toggler focus:outline-none" id="menuIcon">
							<svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 lx-10" viewBox="0 0 20 20" fill="currentColor">
								<path
									fill-rule="evenodd"
									d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"
									clip-rule="evenodd"
								></path>
							</svg>
						</button>
					</div>
					<!-- Small screen nav bar -->
					<div class="bg-blue-900 w-full rounded-md absolute mt-20 hidden" id="navSm">
						<div class="w-full">
							<div class="px-3 py-2 rounded text-white hover:bg-blue-600">
								<a href="./index.html"> <span>Home</span></a>
							</div>
							<div class="px-3 py-2 rounded text-white-500 hover:bg-blue-600">
								<a href="authors.html" class="rounded-md hover:text-white" id="smDropdown">Authors</a>
							</div>
							<div class="px-3 py-2 rounded text-white hover:bg-blue-600">
								<a href="apps.html"> <span>Apps</span></a>
							</div>
							<div class="px-3 py-2 rounded text-white hover:bg-blue-600">
								<a href="about.html"> <span>About</span></a>
							</div>
							<div class="px-3 py-2 rounded text-white hover:bg-blue-600">
								<a href="contact.html"> <span>Contact</span></a>
							</div>
						</div>
					</div>
				</nav>
			</header>

			<section class="grid lg:grid-cols-2 grid-row-2 gap 4 text-white" id="title">
				<div class="flex flex-col mb-24 md:mb-32">
					<h1 class="md:text-6xl sm:text-4xl text-3xl ml-10 lg:ml-20 font-extrabold font-['Nunito',sans-serif] my-auto">Population App</h1>
					<p class="md:text-3xl sm:text-2xl text-xl ml-10 lg:ml-20 mt-5">
						Below is our interactive population graph. You can use the input boxes to choose the three countries you want to compare and click the send button, the app will then show the
						populations of the countries.
					</p>
				</div>
				<div class="hidden lg:block w-auto lg:h-auto bg-blue-600 rounded-md m-5 h-56 relative">
					<img src="./images/IP2 Coursework Files/Images/2_Population.jpg" alt="covid" class="absolute h-full w-full rounded-md shadow-lg" srcset="" />
				</div>
			</section>
		</div>
		<!-- Main -->

		<main>
			<div class="w-full h-auto">
				<h1 class="flex text-3xl font-extrabold justify-center">Information</h1>
				<div class="lg:grid lg:grid-cols-4 lg:gap-5 grid grid-cols-1 gap-5 my-5 text-2xl mx-5" id="api_info">
					<div class="mx-auto">
						<input type="text" class="border-2 border-slate-400 rounded-md text-center" placeholder="Enter Country" id="cont1" />
					</div>
					<div class="mx-auto">
						<input type="text" class="border-2 border-slate-400 rounded-md text-center" placeholder="Enter Country" id="cont2" />
					</div>
					<div class="mx-auto">
						<input type="text" class="border-2 border-slate-400 rounded-md text-center" placeholder="Enter Country" id="cont3" />
					</div>
					<div class="mx-auto">
						<!-- <input type="text" class="border-2 border-slate-400 rounded-md text-center" placeholder="Enter Country" id="cont4" /> -->
						<button onclick="getText()" class="bg-[#0096C7] px-10 py-2 rounded-md hover:bg-[#01c0ff] text-white">Send</button>
					</div>
				</div>
				<div class="w-[85%] mx-auto hidden" id="space">
					<canvas id="myChart" class="w-full" width="2223" height="1110" style="display: block; box-sizing: border-box; height: 555px; width: 1111.5px"></canvas>
				</div>
			</div>

			<!-- fetch api data -->
			<script>
				// Get Covid 19 Information
				// fetch("https://api.covid19api.com/summary")
				// 	.then((response) => response.json())
				// 	.then((data) => {
				// 		const country = data.Countries[111];
				// 		const active = country.TotalConfirmed - country.TotalRecovered - country.TotalDeaths;
				// 		$("#api_info").addClass("lg:grid lg:grid-cols-4 lg:gap-5  grid grid-cols-1 gap-5mx-10 justify-center my-5 text-2xl font-bold");
				// 		$("#api_info").html(
				// 			`
				//                     <div class=" col-span-1">
				//                             <p class="text-center">Confirmed <br /> Cases: <br /> ${country.TotalConfirmed}</p>
				//                     </div>
				//                     <div class="col-span-1">
				//                             <p class="text-center">Total <br /> Deaths:  <br /> ${country.TotalDeaths}</p>
				//                     </div>
				//                     <div class="col-span-1">
				//                             <p class="text-center">Total <br /> Recovered: <br /> ${country.TotalRecovered}</p>
				//                     </div>
				//                     <div class="col-span-1">
				//                             <p class="text-center">Active <br /> Cases: <br />` +
				// 				active +
				// 				` </p>
				//                     </div>`
				// 		);
				// 	});

				var cont1, cont2, cont3, space;
				// var cont4 = document.getElementById("cont4").value;

				const options = {
					method: "GET",
					headers: {
						"X-RapidAPI-Key": "acc1d482bdmsh4e87efa6aba44c1p18c85cjsn8b71eb3b3f4b",
						"X-RapidAPI-Host": "world-population.p.rapidapi.com",
					},
				};
				// fetch("https://world-population.p.rapidapi.com/population?country_name=Mauritius", options)
				// 	.then((response) => response.json())
				// 	.then((data) => {
				// 		const country = data.body.country_name;
				// 		const pop = data.body.population;
				// 		console.log(pop);

				// 		const ctx = document.getElementById("myChart").getContext("2d");
				// 		const myChart = new Chart(ctx, {
				// 			type: "bar",
				// 			data: {
				// 				labels: "Population",
				// 				datasets: [
				// 					{
				// 						label: country,
				// 						data: pop,
				// 						backgroundColor: "transparent",
				// 						borderColor: "red",
				// 						borderWidth: 4,
				// 					},
				// 				],
				// 			},
				// 			options: {
				// 				elements: {
				// 					line: {
				// 						tension: 1,
				// 					},
				// 				},
				// 				responsive: true,
				// 				scales: {
				// 					y: {
				// 						beginAtZero: true,
				// 					},
				// 				},
				// 			},
				// 		});
				// 	});
				function getText() {
					cont1 = document.getElementById("cont1").value;
					cont2 = document.getElementById("cont2").value;
					cont3 = document.getElementById("cont3").value;
					space = document.getElementById("space");
					space.classList.remove("hidden");
					Promise.all([
						fetch("https://world-population.p.rapidapi.com/population?country_name=" + cont1, options),
						fetch("https://world-population.p.rapidapi.com/population?country_name=" + cont2, options),
						fetch("https://world-population.p.rapidapi.com/population?country_name=" + cont3, options),
					])
						.then(function (responses) {
							// Get a JSON object from each of the responses
							return Promise.all(
								responses.map(function (response) {
									return response.json();
								})
							);
						})
						.then(function (data) {
							// Log the data to the console
							// You would do something with both sets of data here
							console.log(data);
							const mu_pop = data[0].body.population;
							const ken_pop = data[1].body.population;
							const uk_pop = data[2].body.population;
							const mu_country = data[0].body.country_name;
							const ken_country = data[1].body.country_name;
							const uk_country = data[2].body.country_name;
							const label = ["Countries"];
							const mu_bg = ["red"];
							const ken_bg = ["blue"];
							console.log(mu_pop);
							console.log(ken_pop);
							console.log(mu_country);
							console.log(ken_country);
							console.log(uk_pop);
							console.log(uk_country);

							if (document.getElementById("space").hasChildNodes) {
								document.getElementById("space").removeChild(document.getElementById("space").childNodes[0]);
								document.getElementById("space").innerHTML =
									'<canvas id="myChart" class="w-full" width="2223" height="1110" style="display: block; box-sizing: border-box; height: 555px; width: 1111.5px"></canvas>';
							}
							const ctx = document.getElementById("myChart").getContext("2d");
							const myChart = new Chart(ctx, {
								type: "bar",
								data: {
									labels: label,
									datasets: [
										{
											label: mu_country,
											data: [mu_pop, 0, 0],
											backgroundColor: mu_bg,
											borderColor: mu_bg,
											borderWidth: 1,
										},
										{
											label: ken_country,
											data: [ken_pop, 0, 0],
											backgroundColor: ken_bg,
											borderColor: ken_bg,
											borderWidth: 1,
										},
										{
											label: uk_country,
											data: [uk_pop, 0, 0],
											backgroundColor: "green",
											borderColor: "green",
											borderWidth: 1,
										},
									],
								},
								options: {
									elements: {
										line: {
											tension: 1,
										},
									},
									responsive: true,
									scales: {
										y: {
											beginAtZero: true,
										},
									},
								},
							});
						})
						.catch(function (error) {
							// if there's an error, log it
							console.log(error);
						});
				}

				// document.getElementsByTagName("canvas")[0].classList.add("hidden");
				// document
				// 	.getElementById("space")
				// 	.appendChild('<canvas id="myChart" class="w-full" width="2223" height="1110" style="display: block; box-sizing: border-box; height: 555px; width: 1111.5px"></canvas>');
			</script>
			<!-- create chart -->
			<script>
				// fetch("https://api.covid19api.com/dayone/country/Mauritius")
				// 	.then((response) => response.json())
				// 	.then((data) => {
				// 		const date = data.map((data) => data.Date);
				// 		//const deaths = data.map((data) => data.Deaths);
				// 		const deaths = data.map((day, index) => {
				// 			if (index) return Math.abs(day.Deaths - data[index - 1].Deaths);
				// 			else day.Deaths;
				// 		});
				// 		// const confirmed = data.map((data) => data.Confirmed);
				// 		const confirmed = data.map((day, index) => {
				// 			if (index) return Math.abs(day.Confirmed - data[index - 1].Confirmed);
				// 			else day.Confirmed;
				// 		});
				// 		// const recovered = data.map((data) => data.Recovered);
				// 		const recovered = data.map((day, index) => {
				// 			if (index) return Math.abs(day.Recovered - data[index - 1].Recovered);
				// 			else day.Recovered;
				// 		});
				// 		// const active = data.map((data) => data.Active);
				// 		const active = data.map((day, index) => {
				// 			if (index) return Math.abs(day.Active - data[index - 1].Active);
				// 			else day.Active;
				// 		});
				// 		// console.log(data);

				// 		const ctx = document.getElementById("myChart").getContext("2d");
				// 		const myChart = new Chart(ctx, {
				// 			type: "bar",
				// 			data: {
				// 				labels: date,
				// 				datasets: [
				// 					{
				// 						label: "Daily Covid Cases",
				// 						data: confirmed,
				// 						backgroundColor: "transparent",
				// 						borderColor: "red",
				// 						borderWidth: 2,
				// 					},
				// 					{
				// 						label: "Daily Recoveries Cases",
				// 						data: recovered,
				// 						backgroundColor: "transparent",
				// 						borderColor: "blue",
				// 						borderWidth: 2,
				// 					},
				// 					{
				// 						label: "Active Cases",
				// 						data: active,
				// 						backgroundColor: "transparent",
				// 						borderColor: "yellow",
				// 						borderWidth: 2,
				// 					},
				// 					{
				// 						label: "Daily Deaths",
				// 						data: deaths,
				// 						backgroundColor: "transparent",
				// 						borderColor: "green",
				// 						borderWidth: 2,
				// 					},
				// 				],
				// 			},
				// 			options: {
				// 				elements: {
				// 					line: {
				// 						tension: 0,
				// 					},
				// 				},
				// 				responsive: true,
				// 				scales: {
				// 					y: {
				// 						beginAtZero: true,
				// 					},
				// 				},
				// 			},
				// 		});
				// 	});
			</script>
		</main>
		<!-- call to action -->
		<section class="flex bg-[#F4BE30]">
			<div class="grid lg:grid-cols-2 gap-4 mx-auto grid-cols-1 my-4">
				<div>
					<h1 class="md:text-4xl text-2xl text-center font-extrabold font-['Nunito',sans-serif] my-10 mx-20 text-white capitalize">
						Check Out the Covid <br />
						Tracker Here!
					</h1>
				</div>
				<div class="flex">
					<button class="mx-auto my-auto rounded-md text-white py-5 bg-[#FF9900] hover:bg-[#ffcf88] px-10">Click Here!</button>
				</div>
			</div>
		</section>
		<!-- footer -->
		<footer class="bg-[#000135] text-white h-auto p-5">
			<div class="flex">
				<div class="lg:grid grid-cols-4 gap-20 mx-auto my-5 hidden">
					<div>
						<img src="./images/IP2 Coursework Files/Logo FIles/1_Original_Logo_(Transparent)_(Dark Background).png" alt="Website_Logo" class="float-left w-auto h-28 p-5" />
					</div>
					<div>
						<header class="text-2xl">Navigation</header>
						<ul class="list-none my-3">
							<li><a href="home.html" class="cursor-pointer">Home</a></li>
							<li><a href="authors.html" class="cursor-pointer">Authors</a></li>
							<li><a href="#" class="cursor-pointer">Apps</a></li>
							<li><a href="#" class="cursor-pointer">About</a></li>
							<li><a href="contact.html" class="cursor-pointer">Contact</a></li>
						</ul>
					</div>
					<div>
						<header class="text-2xl">Contact Information</header>
						<ul class="list-none my-3">
							<li>+77717000998</li>
							<li>worldinfodeskhelp@gmail.com</li>
						</ul>
					</div>
					<div>
						<header class="text-2xl">Socials</header>
						<ul class="list-none my-3">
							<li class="flex">
								<img src="./images/icons8-facebook-50.png" alt="facebook icon" />
								<a href="" class="my-auto">@WorldInfoDeskOfficial</a>
							</li>
							<li class="flex">
								<img src="./images/icons8-instagram-50.png" alt="instagram icon" />
								<a href="" class="my-auto">@WorldInfoDeskOfficial</a>
							</li>
						</ul>
					</div>
				</div>
				<div class="grid mx-auto my-5 grid-rows-4 lg:gap-10 gap-4 lg:hidden">
					<div>
						<img src="./images/IP2 Coursework Files/Logo FIles/1_Original_Logo_(Transparent)_(Dark Background).png" alt="Website_Logo" class="float-left w-auto h-28 p-5" />
					</div>
					<div>
						<header class="text-2xl">Navigation</header>
						<ul class="list-none my-3">
							<li><a href="index.html" class="cursor-pointer">Home</a></li>
							<li><a href="authors.html" class="cursor-pointer">Authors</a></li>
							<li><a href="apps.html" class="cursor-pointer">Apps</a></li>
							<li><a href="about.html" class="cursor-pointer">About</a></li>
							<li><a href="contact.html" class="cursor-pointer">Contact</a></li>
						</ul>
					</div>
					<div>
						<header class="text-2xl">Contact Information</header>
						<ul class="list-none my-3">
							<li>+77717000998</li>
							<li>worldinfodeskhelp@gmail.com</li>
						</ul>
					</div>
					<div>
						<header class="text-2xl">Socials</header>
						<ul class="list-none my-3">
							<li class="flex">
								<img src="./images/icons8-facebook-50.png" alt="facebook icon" />
								<a href="" class="my-auto">@WorldInfoDeskOfficial</a>
							</li>
							<li class="flex">
								<img src="./images/icons8-instagram-50.png" alt="instagram icon" />
								<a href="" class="my-auto">@WorldInfoDeskOfficial</a>
							</li>
						</ul>
					</div>
				</div>
			</div>
			<!-- copyright -->
			<div class="flex">
				<p class="text-center mx-auto text-slate-400">&copy; 2022 WorldInfoDesk. All rights reserved.</p>
			</div>
		</footer>
	</body>
</html>
